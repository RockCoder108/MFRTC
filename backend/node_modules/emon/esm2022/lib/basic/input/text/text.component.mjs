import { Component, EventEmitter, forwardRef, Input, Output } from '@angular/core';
import { InputType } from "./model/type/InputType";
import { NG_VALUE_ACCESSOR } from "@angular/forms";
import { InputBaseComponent } from "../../../core/input-base/input-base";
import { getIconValidationStatus, isElementClicked } from "../../../service/utilities/template.utility";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
import * as i3 from "../../icon/icon.component";
export class TextComponent extends InputBaseComponent {
    elementRef;
    placeholder = '';
    type = InputType.text;
    icons;
    onIconClick = new EventEmitter();
    constructor(elementRef) {
        super();
        this.elementRef = elementRef;
    }
    ngOnInit() {
        this.elementRef.nativeElement.style.width = this.width;
    }
    /**
     * Handle icons validation when validationStatus variable is decleared
     * @public
     * @returns string: icon name. can be check_circle | warning | error
     * @member TextComponent
     */
    getIconValidationStatus() {
        return getIconValidationStatus(this.validationStatus);
    }
    /**
     * checks width component if there are space to visualize custom icons, text and validation icon
     * @public
     * @returns boolean: show validation icon
     * @member TextComponent
     */
    isValidationIconVisible() {
        let isIconVisible = false;
        if (this.icons?.left && this.icons?.right && this.validationStatus) {
            isIconVisible = this.elementRef.nativeElement.getBoundingClientRect().width > 120;
        }
        return isIconVisible;
    }
    /**
     * Handle the click of icons into input check. Method check icon declearation to see if developer sets clickble.
     * Default focus input
     * @public
     * @returns boolean: show validation icon
     * @param elClicked: string = id to know who called method
     * @param inputElement: HTMLInputElement = Input div to focus
     * @param mouseEvent: MouseEvent = need to calculate if clicked padding when icons are clickable
     * @member TextComponent
     */
    handleClick(inputElement, elClicked, mouseEvent) {
        switch (elClicked) {
            case 'leftIcon': {
                if (this.icons?.left?.clickable) {
                    this.onIconClick.next(this.icons.left);
                }
                else {
                    inputElement.focus();
                }
                break;
            }
            case 'rightIcon': {
                if (this.icons?.right?.clickable) {
                    this.onIconClick.next(this.icons.right);
                }
                else {
                    inputElement.focus();
                }
                break;
            }
            case 'container': {
                if ((this.icons?.left?.clickable || this.icons?.right?.clickable) && mouseEvent) {
                    if (isElementClicked(inputElement, mouseEvent)) {
                        inputElement.focus();
                    }
                }
                break;
            }
            default: {
                inputElement.focus();
            }
        }
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.9", ngImport: i0, type: TextComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.9", type: TextComponent, selector: "e-mon-text", inputs: { placeholder: "placeholder", type: "type", icons: "icons" }, outputs: { onIconClick: "onIconClick" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => TextComponent),
                multi: true
            }
        ], usesInheritance: true, ngImport: i0, template: "<div\r\n    class=\"in-text-container\"\r\n    [ngClass]=\"isDisabled ? 'disabled' : ''\">\r\n    <label\r\n        *ngIf=\"label\"\r\n        class=\"label-txt\"\r\n        (click)=\"inputElement.focus()\"\r\n    >{{label}}\r\n    </label>\r\n    <div\r\n        class=\"in-txt\"\r\n        [ngClass]=\"styleClass + ' ' + validationStatus\"\r\n        (click)=\"handleClick(inputElement, 'container', $event)\"\r\n    >\r\n        <e-mon-icon\r\n            *ngIf=\"icons?.left\"\r\n            class=\"icon-left\"\r\n            [icon]=\"icons?.left?.name\"\r\n            [ngClass]=\"{'noselect': icons?.left?.clickable}\"\r\n            [style.color]=\"!isDisabled ? icons?.left?.color : '#A0AAB2'\"\r\n            [style.cursor]=\"icons?.left?.clickable ? 'pointer' : 'text'\"\r\n            (click)=\"handleClick(inputElement,'leftIcon')\"\r\n        ></e-mon-icon>\r\n        <input\r\n            #inputElement\r\n            [type]=\"type\"\r\n            [(ngModel)]=\"value\"\r\n            [placeholder]=\"placeholder\"\r\n            [pattern]=\"pattern\"\r\n            ngDefaultControl\r\n        >\r\n        <e-mon-icon\r\n            *ngIf=\"isValidationIconVisible()\"\r\n            class=\"icon-right\"\r\n            [icon]=\"getIconValidationStatus()\"\r\n            [ngClass]=\"'icon_'+validationStatus\"\r\n        ></e-mon-icon>\r\n        <e-mon-icon\r\n            *ngIf=\"icons?.right\"\r\n            class=\"icon-right\"\r\n            [icon]=\"icons?.right?.name\"\r\n            [ngClass]=\"{'noselect': icons?.left?.clickable}\"\r\n            [style.color]=\"!isDisabled ? icons?.right?.color : '#A0AAB2'\"\r\n            [style.cursor]=\"icons?.left?.clickable ? 'pointer' : 'text'\"\r\n            (click)=\"handleClick(inputElement,'rightIcon')\"\r\n        ></e-mon-icon>\r\n    </div>\r\n</div>\r\n\r\n\r\n", styles: ["body.default-theme{--primary: #0b3954;--primary-half-transparency: rgba(11, 57, 84, .7);--secondary: #ff5a5f;--tertiary: #3E92CC;--tertiary-half-transparency: rgba(62, 146, 204, .5);--fourth: #DADDD8;--pure-white: #FFFFFF;--grey-border: #CCCCCC;--grey-background: #F2F2F2;--grey-font-color: #A0AAB2;--placeholder: #808080;--error: #c81d25;--error-half-transparency: rgba(200, 29, 37, .5);--warning: #F18701;--warning-half-transparency: rgba(241, 135, 1, .5);--success: #008148;--success-half-transparency: rgba(0, 129, 72, .5);--fontColor: #0D1321;--font-size-medium: 14px;--font-size-large: .86rem;--font-weight-5: 500;--font-weight-6: 600;--font-weight-7: 700;--radius-4: 4px;--radius-8: 8px;--border_thickness_1: 1px;--border_thickness_2: 2px}body.default-theme button[disabled],body.default-theme button:disabled{background-color:var(--grey-background)!important;border:1px solid var(--grey-border)!important;color:var(--grey-font-color)!important;pointer-events:none}body.default-theme .disabled{pointer-events:none}body.default-theme .disabled .in-txt{background-color:var(--grey-background);cursor:default;color:var(--grey-font-color);border:var(--border_thickness_1) solid var(--grey-border)}body.default-theme .disabled .in-txt input{background-color:var(--grey-background);cursor:default;outline:none;color:var(--grey-font-color)!important}body.default-theme .disabled .label{color:var(--grey-font-color)!important}body.default-theme .disabled .shell .in-chkbx{border:var(--border_thickness_2) solid var(--grey-border)!important}body.default-theme .disabled .shell .checked{background-color:var(--grey-border)!important}html{font-size:16px}*,*:before,*:after{box-sizing:border-box;letter-spacing:normal}:root{--width_8: 8px;--width_10: 10px;--width_12: 12px;--width_14: 14px;--width_16: 16px;--width_18: 18px;--width_20: 20px;--width_22: 22px;--width_24: 24px;--width_26: 26px;--width_28: 28px;--width_30: 30px;--width_32: 32px;--width_34: 34px;--width_36: 36px;--width_38: 38px;--width_40: 40px;--height_8: 8px;--height_10: 10px;--height_12: 12px;--height_14: 14px;--height_16: 16px;--height_18: 18px;--height_20: 20px;--height_22: 22px;--height_24: 24px;--height_26: 26px;--height_28: 28px;--height_30: 30px;--height_32: 32px;--height_34: 34px;--height_36: 36px;--height_38: 38px;--height_40: 40px;--margin_4: 4px;--margin_8: 8px;--padding_4: 4px;--padding_8: 8px;--transparent: transparent}@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:local(\"Material Icons\"),local(\"MaterialIcons-Regular\"),url(https://fonts.gstatic.com/s/materialicons/v140/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format(\"woff2\")}:root .material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;display:inline-block;position:inherit;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;vertical-align:middle;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}:root .noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host{display:inline-flex;min-width:100px!important;vertical-align:bottom;position:relative;box-sizing:border-box;overflow:visible}:host .in-text-container{width:100%}:host .in-text-container .label-txt{display:block;color:var(--fontColor);margin-left:var(--margin_4);margin-bottom:var(--margin_4);font-size:var(--font-size-large);font-weight:var(--font-weight-5)}:host .in-text-container .in-txt{display:inline-flex;border:var(--border_thickness_1) solid var(--transparent);border-radius:var(--radius-8);align-items:center;width:100%;cursor:text}:host .in-text-container .in-txt .icon-left{margin-left:var(--margin_4)}:host .in-text-container .in-txt .icon-right{margin-right:var(--margin_4)}:host .in-text-container .in-txt input{border:none;position:relative;font-size:var(--font-size-medium);padding:0;height:18px;outline:none;color:var(--fontColor);margin:var(--margin_8);width:inherit}:host .in-text-container .in-txt input:focus{outline:none}:host-context(.default-theme) :not(.disabled) .in-txt{color:var(--primary);border:1px solid var(--primary);box-shadow:0 0 0 0 var(--tertiary)}:host-context(.default-theme) :not(.disabled) .in-txt:hover{border-color:var(--tertiary);box-shadow:0 0 5px var(--tertiary)}:host-context(.default-theme) :not(.disabled) .in-txt:focus-within{border:1px solid var(--primary);box-shadow:0 0 0 2px var(--tertiary-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.success{color:var(--success);border:1px solid var(--success);box-shadow:0 0 0 0 var(--success)}:host-context(.default-theme) :not(.disabled) .in-txt.success:hover{border-color:var(--success);box-shadow:0 0 5px var(--success)}:host-context(.default-theme) :not(.disabled) .in-txt.success:focus-within{border:1px solid var(--success);box-shadow:0 0 0 2px var(--success-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.success .icon_success{color:var(--success)}:host-context(.default-theme) :not(.disabled) .in-txt.warning{color:var(--warning);border:1px solid var(--warning);box-shadow:0 0 0 0 var(--warning)}:host-context(.default-theme) :not(.disabled) .in-txt.warning:hover{border-color:var(--warning);box-shadow:0 0 5px var(--warning)}:host-context(.default-theme) :not(.disabled) .in-txt.warning:focus-within{border:1px solid var(--warning);box-shadow:0 0 0 2px var(--warning-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.warning .icon_warning{color:var(--warning)}:host-context(.default-theme) :not(.disabled) .in-txt.error{color:var(--error);border:1px solid var(--error);box-shadow:0 0 0 0 var(--error)}:host-context(.default-theme) :not(.disabled) .in-txt.error:hover{border-color:var(--error);box-shadow:0 0 5px var(--error)}:host-context(.default-theme) :not(.disabled) .in-txt.error:focus-within{border:1px solid var(--error);box-shadow:0 0 0 2px var(--error-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.error .icon_error{color:var(--error)}:host-context(.default-theme) :not(.disabled) .in-txt ::placeholder{color:var(--placeholder);opacity:.5}:host-context(.default-theme) :not(.disabled) .in-txt :-ms-input-placeholder{color:var(--placeholder)}:host-context(.default-theme) :not(.disabled) .in-txt ::-ms-input-placeholder{color:var(--placeholder)}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.PatternValidator, selector: "[pattern][formControlName],[pattern][formControl],[pattern][ngModel]", inputs: ["pattern"] }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i3.IconComponent, selector: "e-mon-icon", inputs: ["icon", "color", "size"], outputs: ["onClick"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.9", ngImport: i0, type: TextComponent, decorators: [{
            type: Component,
            args: [{ selector: 'e-mon-text', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => TextComponent),
                            multi: true
                        }
                    ], template: "<div\r\n    class=\"in-text-container\"\r\n    [ngClass]=\"isDisabled ? 'disabled' : ''\">\r\n    <label\r\n        *ngIf=\"label\"\r\n        class=\"label-txt\"\r\n        (click)=\"inputElement.focus()\"\r\n    >{{label}}\r\n    </label>\r\n    <div\r\n        class=\"in-txt\"\r\n        [ngClass]=\"styleClass + ' ' + validationStatus\"\r\n        (click)=\"handleClick(inputElement, 'container', $event)\"\r\n    >\r\n        <e-mon-icon\r\n            *ngIf=\"icons?.left\"\r\n            class=\"icon-left\"\r\n            [icon]=\"icons?.left?.name\"\r\n            [ngClass]=\"{'noselect': icons?.left?.clickable}\"\r\n            [style.color]=\"!isDisabled ? icons?.left?.color : '#A0AAB2'\"\r\n            [style.cursor]=\"icons?.left?.clickable ? 'pointer' : 'text'\"\r\n            (click)=\"handleClick(inputElement,'leftIcon')\"\r\n        ></e-mon-icon>\r\n        <input\r\n            #inputElement\r\n            [type]=\"type\"\r\n            [(ngModel)]=\"value\"\r\n            [placeholder]=\"placeholder\"\r\n            [pattern]=\"pattern\"\r\n            ngDefaultControl\r\n        >\r\n        <e-mon-icon\r\n            *ngIf=\"isValidationIconVisible()\"\r\n            class=\"icon-right\"\r\n            [icon]=\"getIconValidationStatus()\"\r\n            [ngClass]=\"'icon_'+validationStatus\"\r\n        ></e-mon-icon>\r\n        <e-mon-icon\r\n            *ngIf=\"icons?.right\"\r\n            class=\"icon-right\"\r\n            [icon]=\"icons?.right?.name\"\r\n            [ngClass]=\"{'noselect': icons?.left?.clickable}\"\r\n            [style.color]=\"!isDisabled ? icons?.right?.color : '#A0AAB2'\"\r\n            [style.cursor]=\"icons?.left?.clickable ? 'pointer' : 'text'\"\r\n            (click)=\"handleClick(inputElement,'rightIcon')\"\r\n        ></e-mon-icon>\r\n    </div>\r\n</div>\r\n\r\n\r\n", styles: ["body.default-theme{--primary: #0b3954;--primary-half-transparency: rgba(11, 57, 84, .7);--secondary: #ff5a5f;--tertiary: #3E92CC;--tertiary-half-transparency: rgba(62, 146, 204, .5);--fourth: #DADDD8;--pure-white: #FFFFFF;--grey-border: #CCCCCC;--grey-background: #F2F2F2;--grey-font-color: #A0AAB2;--placeholder: #808080;--error: #c81d25;--error-half-transparency: rgba(200, 29, 37, .5);--warning: #F18701;--warning-half-transparency: rgba(241, 135, 1, .5);--success: #008148;--success-half-transparency: rgba(0, 129, 72, .5);--fontColor: #0D1321;--font-size-medium: 14px;--font-size-large: .86rem;--font-weight-5: 500;--font-weight-6: 600;--font-weight-7: 700;--radius-4: 4px;--radius-8: 8px;--border_thickness_1: 1px;--border_thickness_2: 2px}body.default-theme button[disabled],body.default-theme button:disabled{background-color:var(--grey-background)!important;border:1px solid var(--grey-border)!important;color:var(--grey-font-color)!important;pointer-events:none}body.default-theme .disabled{pointer-events:none}body.default-theme .disabled .in-txt{background-color:var(--grey-background);cursor:default;color:var(--grey-font-color);border:var(--border_thickness_1) solid var(--grey-border)}body.default-theme .disabled .in-txt input{background-color:var(--grey-background);cursor:default;outline:none;color:var(--grey-font-color)!important}body.default-theme .disabled .label{color:var(--grey-font-color)!important}body.default-theme .disabled .shell .in-chkbx{border:var(--border_thickness_2) solid var(--grey-border)!important}body.default-theme .disabled .shell .checked{background-color:var(--grey-border)!important}html{font-size:16px}*,*:before,*:after{box-sizing:border-box;letter-spacing:normal}:root{--width_8: 8px;--width_10: 10px;--width_12: 12px;--width_14: 14px;--width_16: 16px;--width_18: 18px;--width_20: 20px;--width_22: 22px;--width_24: 24px;--width_26: 26px;--width_28: 28px;--width_30: 30px;--width_32: 32px;--width_34: 34px;--width_36: 36px;--width_38: 38px;--width_40: 40px;--height_8: 8px;--height_10: 10px;--height_12: 12px;--height_14: 14px;--height_16: 16px;--height_18: 18px;--height_20: 20px;--height_22: 22px;--height_24: 24px;--height_26: 26px;--height_28: 28px;--height_30: 30px;--height_32: 32px;--height_34: 34px;--height_36: 36px;--height_38: 38px;--height_40: 40px;--margin_4: 4px;--margin_8: 8px;--padding_4: 4px;--padding_8: 8px;--transparent: transparent}@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:local(\"Material Icons\"),local(\"MaterialIcons-Regular\"),url(https://fonts.gstatic.com/s/materialicons/v140/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format(\"woff2\")}:root .material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;display:inline-block;position:inherit;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;vertical-align:middle;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}:root .noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host{display:inline-flex;min-width:100px!important;vertical-align:bottom;position:relative;box-sizing:border-box;overflow:visible}:host .in-text-container{width:100%}:host .in-text-container .label-txt{display:block;color:var(--fontColor);margin-left:var(--margin_4);margin-bottom:var(--margin_4);font-size:var(--font-size-large);font-weight:var(--font-weight-5)}:host .in-text-container .in-txt{display:inline-flex;border:var(--border_thickness_1) solid var(--transparent);border-radius:var(--radius-8);align-items:center;width:100%;cursor:text}:host .in-text-container .in-txt .icon-left{margin-left:var(--margin_4)}:host .in-text-container .in-txt .icon-right{margin-right:var(--margin_4)}:host .in-text-container .in-txt input{border:none;position:relative;font-size:var(--font-size-medium);padding:0;height:18px;outline:none;color:var(--fontColor);margin:var(--margin_8);width:inherit}:host .in-text-container .in-txt input:focus{outline:none}:host-context(.default-theme) :not(.disabled) .in-txt{color:var(--primary);border:1px solid var(--primary);box-shadow:0 0 0 0 var(--tertiary)}:host-context(.default-theme) :not(.disabled) .in-txt:hover{border-color:var(--tertiary);box-shadow:0 0 5px var(--tertiary)}:host-context(.default-theme) :not(.disabled) .in-txt:focus-within{border:1px solid var(--primary);box-shadow:0 0 0 2px var(--tertiary-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.success{color:var(--success);border:1px solid var(--success);box-shadow:0 0 0 0 var(--success)}:host-context(.default-theme) :not(.disabled) .in-txt.success:hover{border-color:var(--success);box-shadow:0 0 5px var(--success)}:host-context(.default-theme) :not(.disabled) .in-txt.success:focus-within{border:1px solid var(--success);box-shadow:0 0 0 2px var(--success-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.success .icon_success{color:var(--success)}:host-context(.default-theme) :not(.disabled) .in-txt.warning{color:var(--warning);border:1px solid var(--warning);box-shadow:0 0 0 0 var(--warning)}:host-context(.default-theme) :not(.disabled) .in-txt.warning:hover{border-color:var(--warning);box-shadow:0 0 5px var(--warning)}:host-context(.default-theme) :not(.disabled) .in-txt.warning:focus-within{border:1px solid var(--warning);box-shadow:0 0 0 2px var(--warning-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.warning .icon_warning{color:var(--warning)}:host-context(.default-theme) :not(.disabled) .in-txt.error{color:var(--error);border:1px solid var(--error);box-shadow:0 0 0 0 var(--error)}:host-context(.default-theme) :not(.disabled) .in-txt.error:hover{border-color:var(--error);box-shadow:0 0 5px var(--error)}:host-context(.default-theme) :not(.disabled) .in-txt.error:focus-within{border:1px solid var(--error);box-shadow:0 0 0 2px var(--error-half-transparency)}:host-context(.default-theme) :not(.disabled) .in-txt.error .icon_error{color:var(--error)}:host-context(.default-theme) :not(.disabled) .in-txt ::placeholder{color:var(--placeholder);opacity:.5}:host-context(.default-theme) :not(.disabled) .in-txt :-ms-input-placeholder{color:var(--placeholder)}:host-context(.default-theme) :not(.disabled) .in-txt ::-ms-input-placeholder{color:var(--placeholder)}\n"] }]
        }], ctorParameters: () => [{ type: i0.ElementRef }], propDecorators: { placeholder: [{
                type: Input
            }], type: [{
                type: Input
            }], icons: [{
                type: Input
            }], onIconClick: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L3NyYy9saWIvYmFzaWMvaW5wdXQvdGV4dC90ZXh0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvc3JjL2xpYi9iYXNpYy9pbnB1dC90ZXh0L3RleHQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFNBQVMsRUFBYyxZQUFZLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDckcsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLHdCQUF3QixDQUFDO0FBQ2pELE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQ2pELE9BQU8sRUFBQyxrQkFBa0IsRUFBQyxNQUFNLHFDQUFxQyxDQUFDO0FBRXZFLE9BQU8sRUFBQyx1QkFBdUIsRUFBRSxnQkFBZ0IsRUFBQyxNQUFNLDZDQUE2QyxDQUFDOzs7OztBQWN0RyxNQUFNLE9BQU8sYUFBYyxTQUFRLGtCQUEwQjtJQU9yQztJQU5YLFdBQVcsR0FBVyxFQUFFLENBQUM7SUFDekIsSUFBSSxHQUFlLFNBQVMsQ0FBQyxJQUFJLENBQUM7SUFDbEMsS0FBSyxDQUFTO0lBRWIsV0FBVyxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7SUFFakQsWUFBb0IsVUFBc0I7UUFDdEMsS0FBSyxFQUFFLENBQUM7UUFEUSxlQUFVLEdBQVYsVUFBVSxDQUFZO0lBRTFDLENBQUM7SUFFRCxRQUFRO1FBQ0osSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzNELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILHVCQUF1QjtRQUNuQixPQUFPLHVCQUF1QixDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILHVCQUF1QjtRQUNuQixJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUNqRSxhQUFhLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ3RGLENBQUM7UUFDRCxPQUFPLGFBQWEsQ0FBQztJQUN6QixDQUFDO0lBRUQ7Ozs7Ozs7OztPQVNHO0lBQ0gsV0FBVyxDQUFDLFlBQThCLEVBQUUsU0FBa0IsRUFBRSxVQUF1QjtRQUNuRixRQUFRLFNBQVMsRUFBRSxDQUFDO1lBQ2hCLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDZCxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxDQUFDO29CQUM5QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMzQyxDQUFDO3FCQUFNLENBQUM7b0JBQ0osWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUN6QixDQUFDO2dCQUNELE1BQU07WUFDVixDQUFDO1lBQ0QsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUNmLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7b0JBQy9CLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzVDLENBQUM7cUJBQU0sQ0FBQztvQkFDSixZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3pCLENBQUM7Z0JBQ0QsTUFBTTtZQUNWLENBQUM7WUFDRCxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFNBQVMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsSUFBSSxVQUFVLEVBQUcsQ0FBQztvQkFDL0UsSUFBSSxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsVUFBVSxDQUFDLEVBQUUsQ0FBQzt3QkFDN0MsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUN6QixDQUFDO2dCQUNMLENBQUM7Z0JBQ0QsTUFBTTtZQUNWLENBQUM7WUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNOLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN6QixDQUFDO1FBQ0wsQ0FBQztJQUNMLENBQUM7dUdBL0VRLGFBQWE7MkZBQWIsYUFBYSxvSkFSWDtZQUNQO2dCQUNJLE9BQU8sRUFBRSxpQkFBaUI7Z0JBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDO2dCQUM1QyxLQUFLLEVBQUUsSUFBSTthQUNkO1NBQ0osaURDakJMLHl6REFrREE7OzJGRC9CYSxhQUFhO2tCQVp6QixTQUFTOytCQUNJLFlBQVksYUFHWDt3QkFDUDs0QkFDSSxPQUFPLEVBQUUsaUJBQWlCOzRCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUM7NEJBQzVDLEtBQUssRUFBRSxJQUFJO3lCQUNkO3FCQUNKOytFQUdRLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csSUFBSTtzQkFBWixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFFSSxXQUFXO3NCQUFwQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgZm9yd2FyZFJlZiwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtJbnB1dFR5cGV9IGZyb20gXCIuL21vZGVsL3R5cGUvSW5wdXRUeXBlXCI7XHJcbmltcG9ydCB7TkdfVkFMVUVfQUNDRVNTT1J9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5pbXBvcnQge0lucHV0QmFzZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvaW5wdXQtYmFzZS9pbnB1dC1iYXNlXCI7XHJcbmltcG9ydCB7SWNvbiwgSWNvbnN9IGZyb20gXCIuLi8uLi8uLi9tb2RlbC9pbnRlcmZhY2UvaWNvbi5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHtnZXRJY29uVmFsaWRhdGlvblN0YXR1cywgaXNFbGVtZW50Q2xpY2tlZH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2UvdXRpbGl0aWVzL3RlbXBsYXRlLnV0aWxpdHlcIjtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdlLW1vbi10ZXh0JyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi90ZXh0LmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL3RleHQuY29tcG9uZW50LnNjc3MnXSxcclxuICAgIHByb3ZpZGVyczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXHJcbiAgICAgICAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRleHRDb21wb25lbnQpLFxyXG4gICAgICAgICAgICBtdWx0aTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIFRleHRDb21wb25lbnQgZXh0ZW5kcyBJbnB1dEJhc2VDb21wb25lbnQ8c3RyaW5nPiBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgICBASW5wdXQoKSBwbGFjZWhvbGRlcjogc3RyaW5nID0gJyc7XHJcbiAgICBASW5wdXQoKSB0eXBlPzogSW5wdXRUeXBlID0gSW5wdXRUeXBlLnRleHQ7XHJcbiAgICBASW5wdXQoKSBpY29ucz86IEljb25zO1xyXG5cclxuICAgIEBPdXRwdXQoKSBvbkljb25DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8SWNvbj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBpY29ucyB2YWxpZGF0aW9uIHdoZW4gdmFsaWRhdGlvblN0YXR1cyB2YXJpYWJsZSBpcyBkZWNsZWFyZWRcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZXR1cm5zIHN0cmluZzogaWNvbiBuYW1lLiBjYW4gYmUgY2hlY2tfY2lyY2xlIHwgd2FybmluZyB8IGVycm9yXHJcbiAgICAgKiBAbWVtYmVyIFRleHRDb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgZ2V0SWNvblZhbGlkYXRpb25TdGF0dXMoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZ2V0SWNvblZhbGlkYXRpb25TdGF0dXModGhpcy52YWxpZGF0aW9uU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoZWNrcyB3aWR0aCBjb21wb25lbnQgaWYgdGhlcmUgYXJlIHNwYWNlIHRvIHZpc3VhbGl6ZSBjdXN0b20gaWNvbnMsIHRleHQgYW5kIHZhbGlkYXRpb24gaWNvblxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHJldHVybnMgYm9vbGVhbjogc2hvdyB2YWxpZGF0aW9uIGljb25cclxuICAgICAqIEBtZW1iZXIgVGV4dENvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBpc1ZhbGlkYXRpb25JY29uVmlzaWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgaXNJY29uVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmljb25zPy5sZWZ0ICYmIHRoaXMuaWNvbnM/LnJpZ2h0ICYmIHRoaXMudmFsaWRhdGlvblN0YXR1cykge1xyXG4gICAgICAgICAgICBpc0ljb25WaXNpYmxlID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggPiAxMjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0ljb25WaXNpYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHRoZSBjbGljayBvZiBpY29ucyBpbnRvIGlucHV0IGNoZWNrLiBNZXRob2QgY2hlY2sgaWNvbiBkZWNsZWFyYXRpb24gdG8gc2VlIGlmIGRldmVsb3BlciBzZXRzIGNsaWNrYmxlLlxyXG4gICAgICogRGVmYXVsdCBmb2N1cyBpbnB1dFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHJldHVybnMgYm9vbGVhbjogc2hvdyB2YWxpZGF0aW9uIGljb25cclxuICAgICAqIEBwYXJhbSBlbENsaWNrZWQ6IHN0cmluZyA9IGlkIHRvIGtub3cgd2hvIGNhbGxlZCBtZXRob2RcclxuICAgICAqIEBwYXJhbSBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBJbnB1dCBkaXYgdG8gZm9jdXNcclxuICAgICAqIEBwYXJhbSBtb3VzZUV2ZW50OiBNb3VzZUV2ZW50ID0gbmVlZCB0byBjYWxjdWxhdGUgaWYgY2xpY2tlZCBwYWRkaW5nIHdoZW4gaWNvbnMgYXJlIGNsaWNrYWJsZVxyXG4gICAgICogQG1lbWJlciBUZXh0Q29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZUNsaWNrKGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgZWxDbGlja2VkPzogc3RyaW5nLCBtb3VzZUV2ZW50PzogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHN3aXRjaCAoZWxDbGlja2VkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2xlZnRJY29uJzoge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWNvbnM/LmxlZnQ/LmNsaWNrYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25JY29uQ2xpY2submV4dCh0aGlzLmljb25zLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0SWNvbic6IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmljb25zPy5yaWdodD8uY2xpY2thYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkljb25DbGljay5uZXh0KHRoaXMuaWNvbnMucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRhaW5lcic6IHtcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5pY29ucz8ubGVmdD8uY2xpY2thYmxlIHx8IHRoaXMuaWNvbnM/LnJpZ2h0Py5jbGlja2FibGUpICYmIG1vdXNlRXZlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudENsaWNrZWQoaW5wdXRFbGVtZW50LCBtb3VzZUV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuIiwiPGRpdlxyXG4gICAgY2xhc3M9XCJpbi10ZXh0LWNvbnRhaW5lclwiXHJcbiAgICBbbmdDbGFzc109XCJpc0Rpc2FibGVkID8gJ2Rpc2FibGVkJyA6ICcnXCI+XHJcbiAgICA8bGFiZWxcclxuICAgICAgICAqbmdJZj1cImxhYmVsXCJcclxuICAgICAgICBjbGFzcz1cImxhYmVsLXR4dFwiXHJcbiAgICAgICAgKGNsaWNrKT1cImlucHV0RWxlbWVudC5mb2N1cygpXCJcclxuICAgID57e2xhYmVsfX1cclxuICAgIDwvbGFiZWw+XHJcbiAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3M9XCJpbi10eHRcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cInN0eWxlQ2xhc3MgKyAnICcgKyB2YWxpZGF0aW9uU3RhdHVzXCJcclxuICAgICAgICAoY2xpY2spPVwiaGFuZGxlQ2xpY2soaW5wdXRFbGVtZW50LCAnY29udGFpbmVyJywgJGV2ZW50KVwiXHJcbiAgICA+XHJcbiAgICAgICAgPGUtbW9uLWljb25cclxuICAgICAgICAgICAgKm5nSWY9XCJpY29ucz8ubGVmdFwiXHJcbiAgICAgICAgICAgIGNsYXNzPVwiaWNvbi1sZWZ0XCJcclxuICAgICAgICAgICAgW2ljb25dPVwiaWNvbnM/LmxlZnQ/Lm5hbWVcIlxyXG4gICAgICAgICAgICBbbmdDbGFzc109XCJ7J25vc2VsZWN0JzogaWNvbnM/LmxlZnQ/LmNsaWNrYWJsZX1cIlxyXG4gICAgICAgICAgICBbc3R5bGUuY29sb3JdPVwiIWlzRGlzYWJsZWQgPyBpY29ucz8ubGVmdD8uY29sb3IgOiAnI0EwQUFCMidcIlxyXG4gICAgICAgICAgICBbc3R5bGUuY3Vyc29yXT1cImljb25zPy5sZWZ0Py5jbGlja2FibGUgPyAncG9pbnRlcicgOiAndGV4dCdcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwiaGFuZGxlQ2xpY2soaW5wdXRFbGVtZW50LCdsZWZ0SWNvbicpXCJcclxuICAgICAgICA+PC9lLW1vbi1pY29uPlxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAjaW5wdXRFbGVtZW50XHJcbiAgICAgICAgICAgIFt0eXBlXT1cInR5cGVcIlxyXG4gICAgICAgICAgICBbKG5nTW9kZWwpXT1cInZhbHVlXCJcclxuICAgICAgICAgICAgW3BsYWNlaG9sZGVyXT1cInBsYWNlaG9sZGVyXCJcclxuICAgICAgICAgICAgW3BhdHRlcm5dPVwicGF0dGVyblwiXHJcbiAgICAgICAgICAgIG5nRGVmYXVsdENvbnRyb2xcclxuICAgICAgICA+XHJcbiAgICAgICAgPGUtbW9uLWljb25cclxuICAgICAgICAgICAgKm5nSWY9XCJpc1ZhbGlkYXRpb25JY29uVmlzaWJsZSgpXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJpY29uLXJpZ2h0XCJcclxuICAgICAgICAgICAgW2ljb25dPVwiZ2V0SWNvblZhbGlkYXRpb25TdGF0dXMoKVwiXHJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cIidpY29uXycrdmFsaWRhdGlvblN0YXR1c1wiXHJcbiAgICAgICAgPjwvZS1tb24taWNvbj5cclxuICAgICAgICA8ZS1tb24taWNvblxyXG4gICAgICAgICAgICAqbmdJZj1cImljb25zPy5yaWdodFwiXHJcbiAgICAgICAgICAgIGNsYXNzPVwiaWNvbi1yaWdodFwiXHJcbiAgICAgICAgICAgIFtpY29uXT1cImljb25zPy5yaWdodD8ubmFtZVwiXHJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnbm9zZWxlY3QnOiBpY29ucz8ubGVmdD8uY2xpY2thYmxlfVwiXHJcbiAgICAgICAgICAgIFtzdHlsZS5jb2xvcl09XCIhaXNEaXNhYmxlZCA/IGljb25zPy5yaWdodD8uY29sb3IgOiAnI0EwQUFCMidcIlxyXG4gICAgICAgICAgICBbc3R5bGUuY3Vyc29yXT1cImljb25zPy5sZWZ0Py5jbGlja2FibGUgPyAncG9pbnRlcicgOiAndGV4dCdcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwiaGFuZGxlQ2xpY2soaW5wdXRFbGVtZW50LCdyaWdodEljb24nKVwiXHJcbiAgICAgICAgPjwvZS1tb24taWNvbj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcblxyXG4iXX0=